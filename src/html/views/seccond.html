<% var data = {
title: "Main page | Project",
author: "MrKoste"
}; %>
<%= _.template(require('./../includes/header.html'))(data) %>

<div class="wrapper">
    <div class="sample" >
        <input type="text" v-model="firstName" >
        <input type="text" v-model="lastName" >
        <input type="text" v-model="promo" >
        <hr>
        <h2>Hello, {{ fullName }} </h2>
        <button class="btn btn-success" @click="showText = !showText">ToggleName</button>
        <hr>
        <div v-show="showText"> Your sale is {{ sale }} %</div>

    </div>
</div>
<script>
    function getSale(code){
        let codes = {
            newYear: 10,
            some: 20
        };
        let sale = (codes[code] !== undefined) ? codes[code] : 0;

        return sale;
    }
    let sample =  new Vue({
        el: '.sample',
        data: {
            firstName: '',
            lastName: '',
            promo: '',
            showText: true
        },

      computed: {
            fullName() {
                console.log('render Full Name');
                return this.firstName + ' ' + this.lastName;
            },
            sale(){
               return getSale(this.promo);
            }
        },
    /* watch: {
         fistName(){
            this.fullName = this.firstName + ' ' + this.lastName;
         },
         lastName(){
             this.fullName = this.firstName + ' ' + this.lastName;
         }
     }
*/

    });
</script>
<%= _.template(require('./../includes/footer.html'))(data) %>